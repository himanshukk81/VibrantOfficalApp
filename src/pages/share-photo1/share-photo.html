<!--
  Generated template for the SharePhotoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
      <button ion-button menuToggle>
          <ion-icon name="menu"></ion-icon>
      </button>
      <ion-title>Share Photo</ion-title>
      <ion-buttons end>
        <button ion-button (click)="addImages()">Share Images</button>
      </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content padding>
    <ion-toolbar *ngIf="userInfo.userType==1">
        <ion-segment [(ngModel)]="filterInput.selectedUserType"  (click)="filterUser()" >
            <ion-segment-button value="1">Me</ion-segment-button>
            <ion-segment-button value="2">Guest</ion-segment-button>
        </ion-segment>
    </ion-toolbar>
    <ion-list>
        <ion-item *ngIf="filterInput.selectedUserType==2">
            <ion-label>Select Guest</ion-label>
            <ion-select type="text" [(ngModel)]="filterInput.guestId" (click)="filterGuestImages()">
                <ion-option  value="0">ALL</ion-option>  
                <ion-option *ngFor="let guest of guests"  value="{{guest.id}}">{{guest.name}}</ion-option> 
            </ion-select>
        </ion-item> 
        
        <!-- {{userInfo.userType}} -->
        <ion-item *ngIf="filterInput.selectedUserType==2">
         <button ion-button (click)="approveImage()">ApproveImages</button>
        </ion-item> 
        <!-- <ion-list> -->
            <div *ngFor="let image of images">
                <!-- {{images.imagesArray}} -->
                    <!-- dfgdfhgjdfj -->
                <!-- {{image.imagesArray}} -->
                <!-- <p *ngIf="image.message">{{image.message}}</p><br/> -->
                <div *ngFor="let obj of image.imagesArray">
                    <!-- <ion-checkbox  *ngIf="filterInput.selectedUserType==2"></ion-checkbox> -->
                    <!-- <p>{{obj.imageUrl}}</p>  -->
                    <!-- <p>{{obj}}</p>
                    <p>{{obj.imageUrl}}</p>


                    <p>sdfsdsdfsdfsdf</p>  -->
                    
                    <div *ngIf="userInfo.userType==1">
                        <span>{{obj.imageUrl}}</span>
                        <span>{{obj.selected}}</span> 
                    </div>
                    
                    <div *ngIf="userInfo.userType==2">
                            <!-- {{image.guestId==userInfo.id}}   -->
                        <div *ngIf="image.guestId">
                            image guest id exist
                            <span *ngIf="image.guestId==userInfo.id">sender image {{obj.imageUrl}}</span>
                            <span *ngIf="image.guestId!=userInfo.id && obj.selected">receiver image {{obj.imageUrl}}</span>
                        </div>        

                        <div *ngIf="!image.guestId">
                                image guest id not exist
                            <span *ngIf="obj.selected">receiver image {{obj.imageUrl}}</span>
                        </div>    
                        
                        <!-- <span *ngIf="image.guestId==userInfo.id || obj.selected">selected {{obj.selected}}</span> -->
                    </div>
                    


                    
                    <!-- <span><img [src]="obj.imageUrl" style="width:50px;height:50px" imageViewer></span> -->
                    <!-- <ion-label>Pepperoni</ion-label> -->
                    <span *ngIf="filterInput.selectedUserType==2"><input type="checkbox" [(ngModel)]="obj.selected" /></span>
                    
                </div>
                
            </div>
        <!-- </ion-list>     -->



<!-- 
        <ion-list>
                <ion-item *ngFor="let image of images">
                    <p *ngIf="image.message">{{image.message}}</p><br/>
                    
                    <div *ngFor="let obj of image.imagesArray">
                    <p>{{obj.imageUrl}}</p> 
                    
                    </div>
                </ion-item>
        </ion-list>     -->
    </ion-list>

    <div text-center *ngIf="loader">
        <ion-spinner name="circles" ></ion-spinner>
    </div>
</ion-content>
